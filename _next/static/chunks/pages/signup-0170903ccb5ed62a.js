(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{7805:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(3599)}])},3599:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=n(5861),a=n(9047),s=n(2630),l=n(9211),o=n(1664),u=n.n(o),c=n(1163),d=n(7294),h=n(4579),g=n(3101),m=n(4345),f=n(5087),p=n(6033);let x=()=>{let[e,t]=(0,d.useState)(""),[n,o]=(0,d.useState)(""),[x,j]=(0,d.useState)(""),[v,w]=(0,d.useState)(""),[S,Z]=(0,d.useState)(""),[y,_]=(0,d.useState)(""),[b,C]=(0,d.useState)(""),[T,E]=(0,d.useState)(""),[k,P]=(0,d.useState)(""),[N,q]=(0,d.useState)(!1),L=(0,c.useRouter)(),U=(0,d.useContext)(p.B);(0,d.useEffect)(()=>{U.isActive()&&L.replace(f.L.home)},[]),(0,d.useEffect)(()=>{o(""),w(""),_(""),E(""),P("")},[S,b]),(0,d.useEffect)(()=>{N&&setTimeout(()=>L.push(f.L.home),5e3)},[N]);let X=async()=>{if(e.length<3){o("Username too short");return}if(o(""),x.length<6||!x.includes("@")||!x.includes(".")){w("Email format not valid");return}if(w(""),S.length<8){_("Password has less than 8 characters.");return}if(_(""),S!==b){E("Password confirmation not matching");return}E("");let t=await (0,h.v_)("".concat(g.T,"/auth/signup"),{username:e.trim(),email:x.trim(),password:S.trim()});if(t.isError){console.log("SignUp error"),P("Could not sign in. Try again later.");return}F()},F=async()=>{P("");let t=await U.login(e,S);if(!t){P("Something went wrong, try again later.");return}q(!0)};return(0,r.jsx)(m.Z,{children:(0,r.jsx)(l.Z,{direction:"column",justifyContent:"center",alignItems:"center",flexGrow:1,height:"100%",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{variant:"h1",children:"Sign up completed!"}),(0,r.jsxs)(i.Z,{variant:"subtitle1",children:["Thank you. You're being redirected"," ",(0,r.jsx)(u(),{href:f.L.home,children:"home"}),"."]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{variant:"h1",children:"Sign up"}),(0,r.jsx)(i.Z,{variant:"subtitle1",children:"Please, fill up your data"}),(0,r.jsxs)(l.Z,{direction:"column",justifyContent:"center",spacing:"2rem",paddingTop:"2rem",children:[(0,r.jsx)(a.Z,{required:!0,label:"Username",value:e,onChange:e=>t(e.target.value),error:""!==n,helperText:n}),(0,r.jsx)(a.Z,{required:!0,label:"Email",type:"email",value:x,onChange:e=>j(e.target.value),error:""!==v,helperText:v}),(0,r.jsx)(a.Z,{required:!0,label:"Password",type:"password",value:S,onChange:e=>Z(e.target.value),error:""!==y,helperText:y}),(0,r.jsx)(a.Z,{required:!0,label:"Confirm Password",type:"password",value:b,onChange:e=>C(e.target.value),error:""!==T,helperText:T}),k.length>0&&(0,r.jsx)(i.Z,{variant:"body1",color:"error",children:k}),(0,r.jsx)(s.Z,{variant:"contained",onClick:X,children:"Sign Up"})]})]})})})};t.default=x},4345:function(e,t,n){"use strict";var r=n(5893),i=n(6447),a=n(9008),s=n.n(a);n(7294);let l=e=>{let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"SwiftPost"}),(0,r.jsx)("meta",{name:"description",content:"Swift web generation"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("main",{children:(0,r.jsx)(i.Z,{minHeight:"100vh",minWidth:"100%",children:(0,r.jsx)(i.Z,{maxWidth:"1200px",paddingBottom:"2.5rem",paddingTop:"1rem",paddingX:"0.5rem",flexGrow:1,sx:e=>({[e.breakpoints.up("md")]:{marginX:"auto"}}),children:t})})})]})};t.Z=l},5087:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});let r={home:"/",signup:"/signup",login:"/login",verify:"/verify"}}},function(e){e.O(0,[673,630,664,47,774,888,179],function(){return e(e.s=7805)}),_N_E=e.O()}]);